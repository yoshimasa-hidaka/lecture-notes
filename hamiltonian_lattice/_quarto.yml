project:
  type: book
  output-dir: ../docs/hamiltonian_lattice

book:
  title: "格子ゲージ理論 講義ノート"
  downloads: [pdf]
  page-navigation: true
  sidebar:
    style: floating
    background: light
    search: true
    collapse-level: 2
    tools:
      - icon: github
        href: "https://github.com/yoshimasa-hidaka/lecture-notes"
        text: "View source"
      - icon: link
        href: "../index.html"
        text: "講義ノートへ戻る"
  chapters:
    - index.qmd
    - SU2.qmd
    #- Lie.qmd
    #- Gaugetheory.qmd
    - Kogut-Susskind.qmd
    - stringnet.qmd
    - Example.qmd
    - MTC.qmd
    - SU3.qmd
    - meanfield.qmd
    - fermion.qmd
    #- prepotential.qmd
  appendices:
    - q-deformation.qmd
    #- group_theory.qmd
    - references.qmd

lang: ja

crossref:
  chapters: true
  eq-prefix: ""
  fig-prefix: ""

language:
  crossref-ch-prefix: ""
  crossref-sec-prefix: ""

execute:
  cache: true
  freeze: auto

# 参考文献を使う場合は下を有効化（.bib と .csl はプロジェクト直下に置く想定）
bibliography: references.bib
# csl: nature.csl  # 好みのスタイルに変更可

format:
  html:
    theme: flatly
    css: style.css
    toc: true
    number-sections: true
    number-depth: 2
    code-copy: true
    code-overflow: wrap
    highlight-style: github
    link-external-newwindow: true
    lightbox: auto
    include-in-header:
      - text: |
          <script>
          window.MathJax = {
            tex: {
              // MathJax v3 で ams / physics を追加
              packages: {'[+]': ['ams','physics']},
              tags: 'ams',   // \label / \eqref を有効化
              macros: {
                bm: ["{\\boldsymbol{#1}}", 1],
                symbf: ["{\\boldsymbol{#1}}", 1],
                ri: "{\\mathrm{i}}",
                ER: "R",
                EL: "L",
                dag: "\\dagger",
                mathbbm: ["{\\mathbb{#1}}", 1],
                bbone: "\\unicode{x1D7D9}" // 𝟙
              }
            },
            chtml: { matchFontHeight: false },
            options: {
              skipHtmlTags: ["script","noscript","style","textarea","pre","code"],
              enableMenu: false
            }
          };
          </script>

  pdf:
    pdf-engine: lualatex
    documentclass: book
    include-in-header:
      text: |
        \usepackage{luatexja}
        \usepackage[ipaex]{luatexja-preset} % 日本語フォント
        \usepackage{amsmath,amssymb,mathtools,bm,bbm}
        \usepackage[italicdiff]{physics}
        \usepackage{unicode-math}
        \numberwithin{equation}{chapter} % 章ごとに式番号
        % 必要なら数式フォントを指定（任意）
        % \setmathfont{Latin Modern Math}
        % 𝟙 の統一（MathJax と揃えるなら）
        % \newcommand{\bbone}{\symbb{1}}
        \newcommand{\ri}{\mathrm{i}}
        \newcommand{\ER}{R}
        \newcommand{\EL}{L}
        % --- 定理環境（章ごとに番号）---
        \newtheorem{example}{例}[chapter]
        \newtheorem{definition}{定義}[chapter]
        \newtheorem{theorem}{定理}[chapter]
        \newtheorem{question}{問}[chapter]
